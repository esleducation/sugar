!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Sugar=e():t.Sugar=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),n(2),n(3),n(4),n(5),n(6),n(7),t.exports=n(8)},function(t,e){jQuery(function(t){return t("[data-toggle-rhythme]").on("click",function(e){var n;return n=t(this).closest("[data-toggle-rhythme-class]"),n.hasClass("typeset")?(n.removeClass("typeset"),t(this).removeClass("active")):(n.addClass("typeset"),t(this).addClass("active"))}),t("[data-toggle-baseline]").on("click",function(e){var n;return n=t(this).closest("[data-toggle-baseline-class]"),n.hasClass("show-rhythme")?(n.removeClass("show-rhythme"),t(this).removeClass("active")):(n.addClass("show-rhythme"),t(this).addClass("active"))}),t("[data-slidizle]").slidizle({nextOnClick:!0,loop:!0,pauseOnHover:!0,onChange:function(t){}}),t("[data-interact]").each(function(t,e){return interact(e).draggable({autoScroll:!0,onmove:function(t){var e,n,i;return e=t.target,n=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,i=(parseFloat(e.getAttribute("data-y"))||0)+t.dy,e.style.webkitTransform=e.style.transform="translate("+n+"px, "+i+"px)",e.setAttribute("data-x",n),e.setAttribute("data-y",i),e.dispatchEvent(new CustomEvent("move",{bubbles:!0}))},onend:function(t){return t.target.dispatchEvent(new CustomEvent("move",{bubbles:!0})),t.target.setAttribute("data-x",0),t.target.setAttribute("data-y",0),t.target.style.webkitTransform=t.target.style.transform="translate(0,0)"}})})})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.SugarDOMNodeInserted={_inited:!1,enabled:!0,_settings:{},init:function(t){return null==t&&(t={}),this._settings=this._extend(this._settings,t),this._inited=!0,"interactive"===document.readyState?this._init():document.addEventListener("DOMContentLoaded",function(t){return function(e){return t._init()}}(this))},_init:function(){return this.enabled?(document.addEventListener("animationstart",this._onAnimationStart,!1),document.addEventListener("MSAnimationStart",this._onAnimationStart,!1),document.addEventListener("webkitAnimationStart",this._onAnimationStart,!1)):void 0},_onAnimationStart:function(t){return"s-DOMNodeInserted"===t.animationName?t.target.dispatchEvent(new CustomEvent("DOMNodeInserted",{bubbles:!0,cancelable:!0})):void 0},_extend:function(t,e){var n,i;for(i in e)n=e[i],t[i]=n;return t}},SugarDOMNodeInserted.init(),SugarDOMNodeInserted})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.SugarDrawer={_inited:!1,enabled:!0,_settings:{close_on_click:!0},init:function(t){return null==t&&(t={}),this._settings=this._extend(this._settings,t),this._inited=!0,"interactive"===document.readyState?this._init():document.addEventListener("DOMContentLoaded",function(t){return function(e){return t._init()}}(this))},_init:function(){var t,e,n,i;if(this.enabled){for(this.drawers=document.querySelectorAll("[data-drawer]"),i=this.drawers,e=0,n=i.length;n>e;e++)t=i[e],null==t.drawer&&(t.drawer={}),null!=t.dataset&&null!=t.dataset.drawer&&(t.drawer.name=t.dataset.drawer,this._initDrawer(t));return this._checkHash()}},_initDrawer:function(t){var e,n,i,r,o,s,a;return s=t.drawer.name,i=document.querySelector('[data-drawer-bkg="'+s+'"]'),i||(e=document.createElement("div"),e.setAttribute("data-drawer-bkg",s),t.drawer.bkg=e,t.parentElement.insertBefore(e,t.parentElement.firstChild)),n=getComputedStyle(t),null!=n.transitionProperty&&""!==n.transitionProperty&&(t.drawer.transition=!0),r=document.querySelector('[data-drawer-overlay="'+s+'"]'),r||(a=document.createElement("label"),a.setAttribute("for",s),a.setAttribute("data-drawer-overlay",s),t.drawer.overlay=a,t.parentElement.insertBefore(a,t.parentElement.firstChild)),o=document.querySelector('[data-drawer-toggle="'+s+'"]'),o||(o=document.createElement("input"),o.setAttribute("name",s),o.setAttribute("id",s),o.setAttribute("type","checkbox"),o.setAttribute("data-drawer-toggle",s),t.drawer.toggle=o,t.parentElement.insertBefore(o,t.parentElement.firstChild)),o.addEventListener("change",function(e){return function(n){return s=n.target.name,n.target.checked?e.addClass(document.body,"drawer-"+s):null==t.drawer.transition?e.removeClass(document.body,"drawer-"+s):void 0}}(this)),null!=t.drawer.transition&&t.addEventListener("transitionend",function(t){return function(e){return null!=e.target.drawer&&e.target.drawer.toggle.checked===!1?(s=e.target.drawer.name,t.removeClass(document.body,"drawer-"+s)):void 0}}(this)),t.addEventListener("click",function(e){return function(n){return e._settings.close_on_click&&"a"===n.target.nodeName.toLowerCase()?t.drawer.toggle.checked=!1:void 0}}(this))},_checkHash:function(){var t,e;return document.location.hash&&(t=document.location.hash.substring(1),e=document.querySelector('[data-drawer-toggle="'+t+'"]'))?e.checked=!0:void 0},hasClass:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){return this.hasClass(t,e)?void 0:t.className+=" "+e},removeClass:function(t,e){var n;return this.hasClass(t,e)?(n=new RegExp("(\\s|^)"+e+"(\\s|$)"),t.className=t.className.replace(n," ")):void 0},_extend:function(t,e){var n,i;for(i in e)n=e[i],t[i]=n;return t}},setTimeout(function(){return SugarDrawer._inited?void 0:SugarDrawer.init()},500),SugarDrawer})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.SugarGooey={_inited:!1,enabled:!0,_settings:{},init:function(t){return null==t&&(t={}),this._settings=this._extend(this._settings,t),this._inited=!0,"interactive"===document.readyState?this._init():document.addEventListener("DOMContentLoaded",function(t){return function(e){return t._init()}}(this))},_init:function(){var t,e,n,i,r;if(this.enabled){for(this._injectFilter(),this._listenAnimation(),i=document.querySelectorAll("[data-gooey]"),r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.dispatchEvent(new CustomEvent("DOMNodeInserted",{bubbles:!0,cancelable:!0})));return r}},_injectFilter:function(){var t,e,n,i;return i=["position:absolute;","left:-1000px;","top:-300px;"],/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&i.push("display:none;"),e='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="'+i.join(" ")+'">\n	<defs>\n		<filter id="gooey">\n			<feGaussianBlur in="SourceGraphic" stdDeviation="0" result="blur" />\n			<feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="gooey" />\n			<feComposite in="SourceGraphic" in2="gooey" operator="atop"/>\n		</filter>\n	</defs>\n</svg>',n=document.createElement("div"),n.innerHTML=e,this.gooey_defs=n.querySelector("defs"),this.gooey_svg=n.firstChild,this.gooey=n.querySelector("#gooey"),t=document.querySelector("body"),t.appendChild(this.gooey_svg)},_listenAnimation:function(){return document.addEventListener("DOMNodeInserted",function(t){return function(e){var n;return n=e.target,n.dataset&&void 0!==n.dataset.gooey&&!n._gooeyFilter?t._handleFilter(n):void 0}}(this))},_handleFilter:function(t,e){var n,i;return null==e&&(e=!1),t._gooeyFilter=this.gooey.cloneNode(!0),i="gooeyFilter-"+this._uniqId(),t._gooeyFilter.setAttribute("id",i),this.gooey_defs.appendChild(t._gooeyFilter),this._applyFilter(t,'url("#'+i+'")'),n=parseInt(t.dataset.gooey||10),t._gooeyFilter.firstElementChild.setAttribute("stdDeviation",n),t._gooeyFilter.children[1].setAttribute("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 "+(9+n)+" -9")},_applyFilter:function(t,e){var n,i,r,o,s;for(r=["-webkit-","-moz-","-ms-","o-",""],o=[],n=0,i=r.length;i>n;n++)s=r[n],o.push(t.style[s+"filter"]=e);return o},_uniqId:function(){return(new Date).getTime()+Math.round(999999999*Math.random())},_extend:function(t,e){var n,i;for(i in e)n=e[i],t[i]=n;return t}},setTimeout(function(){return SugarGooey._inited?void 0:SugarGooey.init()},500),SugarGooey})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.SugarMotionBlur={_inited:!1,enabled:!0,_settings:{},init:function(t){return null==t&&(t={}),this._settings=this._extend(this._settings,t),this._inited=!0,"interactive"===document.readyState?this._init():document.addEventListener("DOMContentLoaded",function(t){return function(e){return t._init()}}(this))},_init:function(){return this.enabled?(this._injectFilter(),this._listenAnimation()):void 0},_injectFilter:function(){var t,e,n,i;return i=["position:absolute;","left:-1000px;","top:-300px;"],/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&i.push("display:none;"),t='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="'+i.join(" ")+'">\n	<defs>\n		<filter id="blur">\n			<feGaussianBlur in="SourceGraphic" stdDeviation="0,0" />\n		</filter>\n	</defs>\n</svg>',e=document.createElement("div"),e.innerHTML=t,this.blur_defs=e.querySelector("defs"),this.blur_svg=e.firstChild,this.blur=e.querySelector("#blur"),n=document.querySelector("body"),n.appendChild(this.blur_svg)},_listenAnimation:function(){return document.addEventListener("animationiteration",function(t){return function(e){var n;return n=e.target,void 0!==n.dataset.motionBlur?(cancelAnimationFrame(n._blurAnimationFrame),t._handleFilter(n)):void 0}}(this)),document.addEventListener("transitionstart",function(t){return function(e){var n;return n=e.target,void 0!==n.dataset.motionBlur?(console.log("transition start"),cancelAnimationFrame(n._blurAnimationFrame),t._handleFilter(n)):void 0}}(this)),document.addEventListener("move",function(t){return function(e){var n;return n=e.target,void 0!==n.dataset.motionBlur?t._setMotionBlur(n):void 0}}(this))},_handleFilter:function(t,e){var n;return null==e&&(e=!1),e||(t._step=0),n=this._setMotionBlur(t),n.xDiff<=0&&n.yDiff<=0&&(null==t._step&&(t._step=0),t._step+=1,t._step>=10)?void(t._step=0):t._blurAnimationFrame=requestAnimationFrame(function(e){return function(){return e._handleFilter(t,!0)}}(this))},_setMotionBlur:function(t){var e,n,i,r;return t._blurFilter||(t._blurFilter=this.blur.cloneNode(!0),n="blurFilter"+this._uniqId(),t._blurFilter.setAttribute("id",n),this.blur_defs.appendChild(t._blurFilter),this._applyFilter(t,'url("#'+n+'")'),t._lastPos=this._offset(t)),e=t.dataset.motionBlur||.5,t._currentPos=this._offset(t),i=Math.abs(t._currentPos.left-t._lastPos.left)*e,r=Math.abs(t._currentPos.top-t._lastPos.top)*e,t._blurFilter.firstElementChild.setAttribute("stdDeviation",i+","+r),t._lastPos=this._offset(t),{xDiff:i,yDiff:r}},_getTranslate:function(t,e){var n,i,r,o;if(window.getComputedStyle)return r=getComputedStyle(t),o=r.transform||r.webkitTransform||r.mozTransform,(i=o.match(/^matrix3d\((.+)\)$/))?(n={x:12,y:13,z:14},parseFloat(i[1].split(", ")[n[e]])):(i=o.match(/^matrix\((.+)\)$/),n={x:4,y:5,z:6},i?parseFloat(i[1].split(", ")[n[e]]):0)},_offset:function(t){var e,n,i,r,o,s,a,u,d,l,c;return n=t.getBoundingClientRect(),e=document.body,o=document.documentElement,u=window.pageYOffset||o.scrollTop||e.scrollTop,a=window.pageXOffset||o.scrollLeft||e.scrollLeft,r=o.clientTop||e.clientTop||0,i=o.clientLeft||e.clientLeft||0,l=this._getTranslate(t,"x"),c=this._getTranslate(t,"y"),d=n.top+u-r+c,s=n.left+a-i+l,{top:Math.round(d),left:Math.round(s)}},_applyFilter:function(t,e){var n,i,r,o,s;for(r=["-webkit-","-moz-","-ms-","o-",""],o=[],n=0,i=r.length;i>n;n++)s=r[n],o.push(t.style[s+"filter"]=e);return o},_uniqId:function(){return(new Date).getTime()+Math.round(999999999*Math.random())},_extend:function(t,e){var n,i;for(i in e)n=e[i],t[i]=n;return t}},setTimeout(function(){return SugarMotionBlur._inited?void 0:SugarMotionBlur.init()},500),SugarMotionBlur})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.SugarTransitionStart={_inited:!1,enabled:!0,_settings:{},init:function(t){return null==t&&(t={}),this._settings=this._extend(this._settings,t),this._inited=!0,"interactive"===document.readyState?this._init():document.addEventListener("DOMContentLoaded",function(t){return function(e){return t._init()}}(this))},_init:function(){return this.enabled?(document.addEventListener("transitionend",this._onTransitionEnd,!1),document.addEventListener("oTransitionEnd",this._onTransitionEnd,!1),document.addEventListener("webkitTransitionEnd",this._onTransitionEnd,!1)):void 0},_onTransitionEnd:function(t){return 1e-6===t.elapsedTime||"outline-color"===t.propertyName?t.target.dispatchEvent(new CustomEvent("transitionstart",{bubbles:!0,cancelable:!0})):void 0},_extend:function(t,e){var n,i;for(i in e)n=e[i],t[i]=n;return t}},SugarTransitionStart.init(),SugarTransitionStart})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.SugarWebfonts={_key:"sugar-webfonts",_cache:null,_inited:!1,_settings:{version:"581fea09a1e08e3770d777ca504608ee",json_path:"/fonts/fonts.json",debug:!1},init:function(t){var e,n,i;null==t&&(t={}),this._settings=this._extend(this._settings,t),this._inited=!0,e=this._settings.json_path.split("#"),2===e.length&&(this._settings.version=e[1]),2===e.length&&(this._settings.json_path=e[0]);try{this._cache=window.localStorage.getItem(this._key),this._cache&&(this._cache=JSON.parse(this._cache),this._cache.version===this._settings.version?(this._debug("No new version of your fonts."),this._insertFont(this._cache.value)):(this._debug("new version of your fonts."),window.localStorage.removeItem(this._key),this._cache=null))}catch(i){n=i,this._debug("your browser seems to not support the localStorage api")}return this._cache?void 0:window.addEventListener("load",function(t){return function(){var e,i;return e=new XMLHttpRequest,i=void 0,e.open("GET",t._settings.json_path,!0),t=t,e.onload=function(){var e,r,o,s,a,u,d;if(200===this.status)try{i=JSON.parse(this.responseText),o="",u=i.fonts;for(s in u){r=u[s],o+="@font-face{";for(a in r)d=r[a],"font-family"===a&&(d='"'+d+'"'),o+=a+":"+d+";";o+="}"}return t._insertFont(o),window.localStorage.setItem(t._key,JSON.stringify({version:t._settings.version,value:o}))}catch(e){n=e}},e.send()}}(this))},_extend:function(t,e){var n,i;for(i in e)n=e[i],t[i]=n;return t},_insertFont:function(t){var e;return this._debug("inserting fonts"),e=document.createElement("style"),e.innerHTML=t,document.head.appendChild(e)},_debug:function(){return this._settings.debug?console.log("SUGAR-WEBFONTS",arguments):void 0}},SugarWebfonts})},function(t,e,n){var i,r,o;!function(n){r=[],i=n,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(){return window.Sugar={_inited:!1,_settings:{debug:!1},init:function(t){return this._inited=!0},_debug:function(){return this._settings.debug?console.log("SUGAR",arguments):void 0}},setTimeout(function(){return Sugar._inited?void 0:Sugar.init()},500),Sugar})}])});
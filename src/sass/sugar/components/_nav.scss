@include s-component-setup((
	nav : (
		generate : (
			colors : default primary secondary success warning error info,
			sizes : default
		)
	)
));


$_s-nav-inited : false;
@mixin s-nav-init() {
	@if not $_s-nav-inited {
		$_s-nav-inited : true !global;
		%s-nav-bare {
			list-style: none;
			padding: 0;
			margin: 0;
		}
	}
}

@mixin s-nav-inline(
	$sizes : sugar('settings.components.nav.generate.sizes')
) {
	// init nav
	@include s-nav-init();

	@if $_sugar-test-arguments {
		$sizes : s-test-argument('s-nav-tabs','sizes',map-keys(sugar('settings.sizes')),$sizes);
	}

	// pass in component context
	@include s-component-context('nav') {
		#{s-selector((
			BEM : '.nav.nav--inline',
			SMACCS : '.nav.nav-inline'
		))} {
			@extend %s-nav-bare;

			> li,
			> #{s-selector((
				BEM : '.nav__item',
				SMACCS : '.nav-item'
			))} {
				display: inline-block;

				&:last-of-type {
					padding-right: 0 !important;
				}
				&:first-of-type {
					padding-left: 0 !important;
				}
			}
		}

		// generate each sizes
		@each $size in $sizes {
			// extend dropdown
			#{s-selector((
				BEM : '.nav--inline.nav--#{$size}',
				SMACCS : '.nav-inline.nav-#{$size}'
			))} {
				> li,
				> #{s-selector((
					BEM : '.nav__item',
					SMACCS : '.nav-item'
				))} {
					padding-left : s-look-and-feel(padding-horizontal, $size);
					padding-right : s-look-and-feel(padding-horizontal, $size);
				}
			}
		}
	}
}

@mixin s-nav-tabs(
	$sizes : sugar('settings.components.nav.generate.sizes'),
	$colors : sugar('settings.components.nav.generate.colors')
) {
	// init nav
	@include s-nav-init();

	@if $_sugar-test-arguments {
		$sizes : s-test-argument('s-nav-tabs','sizes',map-keys(sugar('settings.sizes')),$sizes);
		$colors : s-test-argument('s-nav-tabs','colors',map-keys(sugar('settings.colors')),$colors);
	}

	// pass in component context
	@include s-component-context('nav') {

		// base
		#{s-selector((
			BEM : '.nav.nav--tabs',
			SMACCS : '.nav.nav-tabs'
		))} {
			@extend %s-nav-bare;

			> li,
			> #{s-selector((
				BEM : '.nav__item',
				SMACCS : '.nav-item'
			))} {
				&.disabled,
				#{s-selector((
					BEM : '&.nav__item--disabled',
					SMACCS : '&.is-disabled'
				))} {
					pointer-events: none;
					opacity: .5;
					cursor: not-allowed;
				}
			}
		}

		// generate each sizes
		@each $size in $sizes {
			// extend dropdown
			#{s-selector((
				BEM : '.nav--tabs.nav--#{$size}',
				SMACCS : '.nav-tabs.nav-#{$size}'
			))} {
				> li,
				> #{s-selector((
					BEM : '.nav__item',
					SMACCS : '.nav-item'
				))} {
					font-size : s-look-and-feel(font-size, $size);
					@include s-corner(
						$top-left : s-look-and-feel(border-radius, $size),
						$top-right : s-look-and-feel(border-radius, $size)
					);
					// margin-right: s-space(smaller);
					padding : s-look-and-feel(padding-vertical, $size) s-look-and-feel(padding-horizontal, $size);
					float: left;
					margin-bottom: -1px;
					cursor: pointer;
				}
			}
		}
		// generate each colors
		@each $color in $colors {
			// extend dropdown

			#{s-selector((
				BEM : '.nav--tabs.nav--#{$color}',
				SMACCS : '.nav--tabs.nav-#{$color}'
			))} {
				border-bottom: 1px solid s-color($color, -opacity .2);
				@include s-clearfix;

				> li,
				> #{s-selector((
					BEM : '.nav__item',
					SMACCS : '.nav-item'
				))} {
					border: 1px solid s-color($color, -opacity .1);
					color : s-color($color);

					#{s-selector((
						BEM : '&.hover',
						SMACCS : '&.is-hover'
					))},
					&:hover {
						background-color : s-color($color, -opacity .1);
					}
					#{s-selector((
						BEM : '&.active',
						SMACCS : '&.is-active'
					))} {
						background-color : s-color($color);
						border-color: s-color($color);
						@if lightness(s-color($color)) > 70 {
							color : s-color($color, -darken 30%);
						} @else {
							color : white;
						}
					}
				}
			}
		}
	}
}

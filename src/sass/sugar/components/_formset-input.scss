@mixin s-input(
	$color : null
) {
	@include s-formset-init();
	@extend %s-input-bare;
	@extend %s-input-style;
	@include s-input-size();
	@if ($color) {
		@include s-input-color($color);
	}
}

@mixin s-input-bare() {
	@include s-formset-init();
	@extend %s-input-bare;
	@include s-input-size();
}

@mixin s-input-style(
	$color : null
) {
	@include s-formset-init();
	@extend %s-input-style;
	@if ($color) {
		@include s-input-color();
	}
}

@mixin s-formset-input(
	$colors : sugar('settings.components.formset.generate.colors')
) {
	@include s-formset-input-bare();
	@include s-formset-input-style($colors);
}

// what to exclude from styling
$not : ':not([type="checkbox"]):not([type="radio"]):not(.noUi-target)';

@mixin s-formset-input-bare(
) {
	@include s-formset-init();

	// pass in the component context
	@include s-component-context('formset') {

		input.input#{$not} {
			@extend %s-input-bare;
		}
		textarea.input {
			height: auto !important;
		}

		// input styling
		input.input#{$not} {
			// set input styling
			@include s-input-size();

			// vertical rhythme
			&, & ~Â span {
				@include s-vertical-rhythme {
					margin-bottom: 1rem;
				}
			}
		}
		// textarea styling
		textarea.input {
			@include s-textarea-size();

			// vertical rhythme
			@include s-vertical-rhythme {
				margin-bottom:1rem;
			}
		}
	}
}
@mixin s-formset-input-style(
	$colors : sugar('settings.components.formset.generate.colors')
) {
	// parse properties
	@if $_sugar-test-arguments {
		// $colors : s-test-argument('s-formset','colors',map-keys(sugar('settings.colors')),$colors);
	}

	// pass in the component context
	@include s-component-context('formset') {

		input.input#{$not} {
			@extend %s-input-style;
		}
		select.input {
			@extend %s-select-style;
		}

		// generate each colors
		@each $color in $colors {

			// input styling
			#{s-selector((
				BEM : (
					'input.input--#{$color}#{$not}',
					'.color--#{$color} input.input#{$not}'
				),
				SMACCS : (
					'input.input-#{$color}#{$not}',
					'.color-#{$color} input.input#{$not}'
				)
			))} {
				@include s-input-color($color);

				& ~ .input-reply--#{$color} {
					display: block;
				}
			}

			// select styling
			#{s-selector((
				BEM : (
					'select.input--#{$color}',
					'.input--#{$color}.s-select',
					'.color--#{$color} select.input'
				),
				SMACCS : (
					'select.input-#{$color}',
					'.input-#{$color}.s-select',
					'.color--#{$color} select.input'
				)
			))} {
				@include s-select-color($color);
			}
		}
	}
}
@mixin s-input-size() {
	// font-size : 1em;
	// border-radius: s-lnf(border-radius, $size);
	padding : s-lnf(padding-horizontal) s-lnf(padding-vertical);
	height: 1em + s-lnf(padding-horizontal) * 2;
}
@mixin s-input-color($color) {
	border-color: s-color($color, -opacity .1);
	border-bottom-color: s-color($color, -opacity .3);

	[data-input-activator]:focus ~ &,
	[data-input-activator]:checked ~ &,
	&:hover:not(:disabled):not(.input--disabled):not(.is-disabled),
	&:focus:not(:disabled):not(.input--disabled):not(.is-disabled),
	&.active:not(:disabled):not(.input--disabled):not(.is-disabled) {
		border-bottom-color: s-color($color, -opacity .6);
		@include s-depth(3, s-color($color, -opacity .3));
	}
	[data-input-activator]:focus ~ &,
	[data-input-activator]:checked ~ &,
	&:focus:not(:disabled):not(.input--disabled):not(.is-disabled),
	&.active:not(:disabled):not(.input--disabled):not(.is-disabled) {
		border-left-color: s-color($color, -opacity .6);
	}
}
